<ion-header>
  <ion-toolbar>
    <ion-title>Alteração de Senha</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-card>
    <ion-card-header color="danger">
      <ion-card-title>Alteração de Senha</ion-card-title>
    </ion-card-header>
      <form [formGroup]="alterSenha" (ngSubmit)="alterPsswd()" novalidate>
        <ion-item>
          <ion-label position="floating">Senha Atual</ion-label>
          <ion-input  clearInput="true" inputmode="text" placeholder="Digite a senha atual" required="true" type="password" formControlName="passwdAtual"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="isSubmitted && errorControl.passwdAtual.errors?.required">
          *Digite a senha atual
        </ion-text>

        <ion-item>
          <ion-label position="floating">Nova Senha</ion-label>
          <ion-input  clearInput="true" inputmode="text" placeholder="Digite a nova senha" required="true" type="password" formControlName="passwdNew"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="isSubmitted && errorControl.passwdNew.errors?.required">
          *É nescessario a nova senha
        </ion-text>
        <ion-text color="danger" *ngIf="isSubmitted && (errorControl.passwdNew.errors?.pattern || errorControl.passwdNew.errors?.minLength || errorControl.passwdNew.errors?.maxLength)">
          *É nescessario que a senha tenha entre 6 a 30 caracteres, pelo menos uma letra maiuscula, uma letra minuscula, um numero e um caractere especial
        </ion-text>

        <ion-item>
          <ion-label position="floating">Confirme a Nova Senha</ion-label>
          <ion-input  clearInput="true" inputmode="text" placeholder="Confirme a nova senha" required="true" type="password" formControlName="passwdNewConf"></ion-input>
        </ion-item>
        <ion-text color="danger" *ngIf="isSubmitted && !alterSenha.get('passwdNewConf').errors && alterSenha.hasError('passwordNotMatch') && (alterSenha.get('passwdNewConf').dirty || alterSenha.get('passwdNewConf').touched)">
          *A confirmação tem que ser igual a senha
        </ion-text>
        <ion-text color="danger" *ngIf="isSubmitted && errorControl.passwdNewConf.errors?.required">
          *Confirme a senha
        </ion-text>
        <ion-text color="danger" *ngIf="isSubmitted && (errorControl.passwdNewConf.errors?.pattern || errorControl.passwdNewConf.errors?.minLength || errorControl.passwdNewConf.errors?.maxLength)">
          *É nescessario que a senha tenha entre 6 a 30 caracteres, pelo menos uma letra maiuscula, uma letra minuscula, um numero e um caractere especial
        </ion-text>

        <ion-button expand="full" type="submit">Alterar Senha</ion-button>
        <ion-button expand="full" (click)="backToConfig()">VOLTAR</ion-button>
      </form>
    <ion-card-content>
    </ion-card-content>
  </ion-card>
</ion-content>
