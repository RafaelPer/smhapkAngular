{"version":3,"sources":["./src/app/funcoes/new-comodo/new-comodo.page.html","./src/app/funcoes/new-comodo/new-comodo-routing.module.ts","./src/app/funcoes/new-comodo/new-comodo.module.ts","./src/app/funcoes/new-comodo/new-comodo.page.scss","./src/app/funcoes/new-comodo/new-comodo.page.ts"],"names":[],"mappings":"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","file":"funcoes-new-comodo-new-comodo-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-title>Cadastro do Comodo</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-card>\\n    <ion-card-header color=\\\"danger\\\">\\n      <ion-card-title>Novo Comodo</ion-card-title>\\n      <ion-card-subtitle>Digite as informações do comodo</ion-card-subtitle>\\n    </ion-card-header>\\n  \\n    <ion-card-content>\\n      <form [formGroup]=\\\"comodoCreate\\\" (ngSubmit)=\\\"createCom()\\\" novalidate>\\n        <ion-item>\\n          <ion-label position=\\\"floating\\\">Nome do Comodo</ion-label>\\n          <ion-input  clearInput=\\\"true\\\" inputmode=\\\"text\\\" placeholder=\\\"Digite o nome do Comodo\\\" required=\\\"true\\\" type=\\\"text\\\" formControlName=\\\"nomeCom\\\"></ion-input>\\n        </ion-item>\\n        <ion-text color=\\\"danger\\\" *ngIf=\\\"isSubmitted && errorControl.nomeCom.errors?.required\\\">\\n          *É nescessario o nome do comodo\\n        </ion-text>\\n        <ion-item>\\n          <ion-label>Esta Ativo?</ion-label>\\n          <ion-toggle color=\\\"danger\\\" checked disabled></ion-toggle>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>É Favorito?</ion-label>\\n          <ion-toggle color=\\\"danger\\\" disabled></ion-toggle>\\n        </ion-item>\\n\\n        <ion-item>\\n          <ion-label>Sera Sincronizado?</ion-label>\\n          <ion-toggle color=\\\"danger\\\" checked disabled></ion-toggle>\\n        </ion-item>\\n\\n        <ion-button expand=\\\"full\\\" type=\\\"submit\\\">Criar Comodo</ion-button>\\n\\n      </form>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { NewComodoPage } from './new-comodo.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: NewComodoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class NewComodoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { NewComodoPageRoutingModule } from './new-comodo-routing.module';\n\nimport { NewComodoPage } from './new-comodo.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    NewComodoPageRoutingModule,\n    ReactiveFormsModule\n  ],\n  declarations: [NewComodoPage]\n})\nexport class NewComodoPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2Z1bmNvZXMvbmV3LWNvbW9kby9uZXctY29tb2RvLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { AuthenticationService } from '../../services/authentication.service';\nimport { SecureStoreService } from '../../services/storageL.service';\nimport { AlertController, ToastController } from '@ionic/angular';\nimport { ComodoService } from '../../services/comodo.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-new-comodo',\n  templateUrl: './new-comodo.page.html',\n  styleUrls: ['./new-comodo.page.scss'],\n})\nexport class NewComodoPage implements OnInit {\n\n  comodoCreate: FormGroup;\n  isSubmitted = false;\n  token = null;\n  userID: any;\n  user = null;\n  idUser = null;\n\n  constructor(public toastController: ToastController, private auth: AuthenticationService, private alertCtrl: AlertController, private storage: SecureStoreService, public formBuilder: FormBuilder, private apiService: ComodoService, private router: Router) {\n  }\n\n  async ngOnInit() {\n    this.comodoCreate = this.formBuilder.group({\n      nomeCom: ['', [Validators.required]],\n      // isActive: [true, [Validators.required]],\n      // issync: [true, [Validators.required]]\n    });\n    this.token = await this.storage.getToken();\n    // this.token = [{token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmMGEyYTRmYTFkODRmMTdhODkxZDVhOSIsImlhdCI6MTU5NTAyOTYwNSwiZXhwIjoxNjI2NjUyMDA1fQ.2kp-KLy6458Dq6zGgPsygBB_dyRws9BlqSNjbplyzOk'}];\n    console.log(this.token);\n    this.user = this.auth.getUser();\n    console.log(this.user);\n    this.idUser = await this.storage.getIdUser();\n    console.log(this.idUser);\n    this.userID = this.user ? this.user.id : this.idUser[0].idUser;\n    // this.userID = '5f0a2a4fa1d84f17a891d5a9';\n  }\n\n  async ionViewWillEnter() {\n    this.token = await this.storage.getToken();\n    // this.token = [{token: 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmMGEyYTRmYTFkODRmMTdhODkxZDVhOSIsImlhdCI6MTU5NTAyOTYwNSwiZXhwIjoxNjI2NjUyMDA1fQ.2kp-KLy6458Dq6zGgPsygBB_dyRws9BlqSNjbplyzOk'}];\n    console.log(this.token);\n    this.user = this.auth.getUser();\n    console.log(this.user);\n    this.idUser = await this.storage.getIdUser();\n    console.log(this.idUser);\n    this.userID = this.user ? this.user.id : this.idUser[0].idUser;\n    // this.userID = '5f0a2a4fa1d84f17a891d5a9';\n  }\n\n  createCom() {\n    this.isSubmitted = true;\n    if (!this.comodoCreate.valid) {\n      console.log('Please provide all the required values!')\n      return false;\n    } else {\n      console.log(this.comodoCreate.value);\n      let comodo = {\n        userID: this.userID,\n        nomeComodo: this.comodoCreate.value.nomeCom,\n        tempComodo: '',\n        umiComodoF: '',\n        ajustTempComodo: '',\n        statusLuzComodo: false,\n        statusTomadaComodo: false,\n        statusJanelaComodo: false,\n        statusPortaComodo: false,\n        statusPresencaComodo: false,\n        statusArCondiconado: false,\n        isActive: true,\n        isFavorite: false,\n        issync: true,\n      };\n\n      this.apiService.postComodoMongoDB(comodo, this.token[0].token).subscribe( async (response) => {\n        console.log(response);\n        this.router.navigateByUrl('/members');\n      }, async (err) => {\n        console.log(err);\n        let erro = err.message;\n        let errors = err.error.errors;\n        let messages = err.error.message;\n        let teste = [];\n        console.log(errors);\n        console.log(messages);\n  \n        if(errors){\n          for(let e of errors){\n            console.log(e.message);\n            teste.push(e.message);\n          }\n        }\n  \n        if(messages){\n          for(let m of messages){\n            console.log(m);\n            teste.push(m.message);\n          }\n        }\n  \n        teste.push(erro);\n        console.log(teste);\n        //let error = err.error ? err.error.message : err.message;\n        const alert = await this.alertCtrl.create({\n          header: 'Falha em criar o comodo',\n          message: 'Erro: ' + teste,\n          buttons: ['OK']\n        });\n        await alert.present();\n      });\n    }\n  }\n\n  get errorControl() {\n    return this.comodoCreate.controls;\n  }\n\n}\n"],"sourceRoot":"webpack:///"}